{"uid":"37703fba3b9875e2","name":"test order db create backup non-belonging db","fullName":"tests_api.test_bd.TestBackup#test_order_db_create_backup_non_belonging_db","historyId":"46162aec860d9e52ab8a1ce1fe9140b2","time":{"start":1762342851391,"stop":1762342851864,"duration":473},"status":"failed","statusMessage":"AssertionError: Result is not equal expected value","statusTrace":"self = <tests_api.test_bd.TestBackup object at 0x7f3c9f588da0>\nget_token_backup_1 = ('9d2e624c-cac3-4aad-8f67-ced7593b4f8c', {'email': 'testbackup1@gmail.com', 'password': 'ZuOhK0WqZ3CJ8RPaf4dj'}, '066dc8a6-240f-701b-8000-a17ea063eafa')\nget_token_backup_2 = ('c8724fc6-fc66-4cdf-9471-6872c1701f4b', {'email': 'testbackup2@gmail.com', 'password': 'gwqldBUEoNGUiBrKFeVv'}, '066dc8d1-2d0a-753b-8000-ba69b49e1e8c')\n\n    @allure.title('test order db create backup non-belonging db')\n    def test_order_db_create_backup_non_belonging_db(self, get_token_backup_1, get_token_backup_2):\n        token, body, uuid = get_token_backup_1\n        token_2, body_2, uuid_2 = get_token_backup_2\n        response = API.post_db_backup_create(token=token, db_uuid=uuid_2)\n        Checking.check_status_code(response, 400)\n>       Checking.check_json_value(\n            response, 'content', \"db either not exist, not in good shape or not belong to the user\")\n\ntests_api/test_bd.py:478: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [400]>, field_name = 'content'\nexpected_value = 'db either not exist, not in good shape or not belong to the user'\n\n    @staticmethod\n    def check_json_value(response: requests.models.Response, field_name: str, expected_value):\n        \"\"\"\n        :param response: requests.models.Response\n        :param field_name:\n        :param expected_value:\n        \"\"\"\n        check = response.json()\n        check_info = check.get(field_name)\n        with allure.step(\n                f'Compare result request with expected value:'\n                f'\\nResponse: {response}\\nField name: {field_name}\\nValue: {expected_value}'):\n>           assert check_info == expected_value, 'Result is not equal expected value'\nE           AssertionError: Result is not equal expected value\n\ntests_api/utils/checking.py:57: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"get_token_backup_1","time":{"start":1762342850402,"stop":1762342850886,"duration":484},"status":"passed","steps":[{"name":"Assert status code: 200 == Response status code: 200","time":{"start":1762342850886,"stop":1762342850886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_token_backup_2","time":{"start":1762342850886,"stop":1762342851391,"duration":505},"status":"passed","steps":[{"name":"Assert status code: 200 == Response status code: 200","time":{"start":1762342851391,"stop":1762342851391,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Result is not equal expected value","statusTrace":"self = <tests_api.test_bd.TestBackup object at 0x7f3c9f588da0>\nget_token_backup_1 = ('9d2e624c-cac3-4aad-8f67-ced7593b4f8c', {'email': 'testbackup1@gmail.com', 'password': 'ZuOhK0WqZ3CJ8RPaf4dj'}, '066dc8a6-240f-701b-8000-a17ea063eafa')\nget_token_backup_2 = ('c8724fc6-fc66-4cdf-9471-6872c1701f4b', {'email': 'testbackup2@gmail.com', 'password': 'gwqldBUEoNGUiBrKFeVv'}, '066dc8d1-2d0a-753b-8000-ba69b49e1e8c')\n\n    @allure.title('test order db create backup non-belonging db')\n    def test_order_db_create_backup_non_belonging_db(self, get_token_backup_1, get_token_backup_2):\n        token, body, uuid = get_token_backup_1\n        token_2, body_2, uuid_2 = get_token_backup_2\n        response = API.post_db_backup_create(token=token, db_uuid=uuid_2)\n        Checking.check_status_code(response, 400)\n>       Checking.check_json_value(\n            response, 'content', \"db either not exist, not in good shape or not belong to the user\")\n\ntests_api/test_bd.py:478: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresponse = <Response [400]>, field_name = 'content'\nexpected_value = 'db either not exist, not in good shape or not belong to the user'\n\n    @staticmethod\n    def check_json_value(response: requests.models.Response, field_name: str, expected_value):\n        \"\"\"\n        :param response: requests.models.Response\n        :param field_name:\n        :param expected_value:\n        \"\"\"\n        check = response.json()\n        check_info = check.get(field_name)\n        with allure.step(\n                f'Compare result request with expected value:'\n                f'\\nResponse: {response}\\nField name: {field_name}\\nValue: {expected_value}'):\n>           assert check_info == expected_value, 'Result is not equal expected value'\nE           AssertionError: Result is not equal expected value\n\ntests_api/utils/checking.py:57: AssertionError","steps":[{"name":"Endpoint: /db_backup_create","time":{"start":1762342851863,"stop":1762342851863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Request:","time":{"start":1762342851863,"stop":1762342851863,"duration":0},"status":"passed","steps":[{"name":"Headers: {'Content-Type': 'application/json', 'Authorization': {'9d2e624c-cac3-4aad-8f67-ced7593b4f8c'}}","time":{"start":1762342851863,"stop":1762342851863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Response:","time":{"start":1762342851863,"stop":1762342851863,"duration":0},"status":"passed","steps":[{"name":"Status code: 400","time":{"start":1762342851863,"stop":1762342851863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"JSON: {\n    \"content\": \"db either not exist, not in good shape, or does not belong to the user\"\n}\n","time":{"start":1762342851863,"stop":1762342851863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Assert status code: 400 == Response status code: 400","time":{"start":1762342851863,"stop":1762342851863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Compare result request with expected value:\nResponse: <Response [400]>\nField name: content\nValue: db either not exist, not in good shape or not belong to the user","time":{"start":1762342851863,"stop":1762342851863,"duration":0},"status":"failed","statusMessage":"AssertionError: Result is not equal expected value\n","statusTrace":"  File \"/home/runner/work/Oblache/Oblache/tests_api/utils/checking.py\", line 57, in check_json_value\n    assert check_info == expected_value, 'Result is not equal expected value'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":8,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"suite","value":"Test Backup"},{"name":"parentSuite","value":"tests_api"},{"name":"subSuite","value":"TestBackup"},{"name":"host","value":"runnervmf2e7y"},{"name":"thread","value":"2668-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests_api.test_bd"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"e8977b59679ba7f2","reportUrl":"https://lambotik.github.io/Oblache/24/#testresult/e8977b59679ba7f2","status":"failed","statusDetails":"AssertionError: Result is not equal expected value","time":{"start":1762342484716,"stop":1762342485023,"duration":307}}]},"tags":[]},"source":"37703fba3b9875e2.json","parameterValues":[]}