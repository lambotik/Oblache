{"uid":"f6f860462e54ac52","name":"Deleting a DB with results check in the Account Dashboard table","fullName":"tests_ui.test_ui.TestProfilePage#test_delete_database","historyId":"79ccd4aa4a29c03ae3f72e89c73351ae","time":{"start":1762480538965,"stop":1762480543032,"duration":4067},"status":"failed","statusMessage":"AssertionError: Wrong answer from server or need manual deleting!!!","statusTrace":"self = <tests_ui.test_ui.TestProfilePage object at 0x7f56abb6da90>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"f8dd8a96a5fe7130337602ec15f6d167\")>\nauthorization_user = None\n\n    @allure.title('Deleting a DB with results check in the Account Dashboard table')\n    def test_delete_database(self, driver, authorization_user):\n        page = ProfilePage(driver, authorization_user)\n        page.click_button_status()\n        amount_databases = int(page.get_status_data()['db qty used'])\n>       msg = page.delete_database()\n\ntests_ui/test_ui.py:97: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests_ui.profile_page.ProfilePage object at 0x7f56ab79eed0>\n\n    def delete_database(self):\n        self.click_button_databases()\n        time.sleep(1)\n        list_databases = self.elements_are_present(self.locators.LIST_DATABASES)\n        list_db = [list_databases[i].text for i in range(len(list_databases))]\n        \"\"\"If there is at least one DB\"\"\"\n        if len(list_db) != 0:\n            button = self.element_is_visible((By.XPATH, f'//tbody[@id=\"tbody_dbs\"] /tr[1]/td[10] /button'))\n            button.click()\n            server_msg = self.element_is_visible(self.locators.MSG_COPYPASTE).text\n            with allure.step(f'Check server answer is: {server_msg}'):\n>               assert server_msg == 'server is set for deleting', 'Wrong answer from server or need manual deleting!!!'\nE               AssertionError: Wrong answer from server or need manual deleting!!!\n\ntests_ui/profile_page.py:95: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1762480537992,"stop":1762480538265,"duration":273},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"authorization_user","time":{"start":1762480538265,"stop":1762480538965,"duration":700},"status":"passed","steps":[{"name":"Open page: https://oblache.areso.pro/register.html","time":{"start":1762480538265,"stop":1762480538768,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Login user","time":{"start":1762480538768,"stop":1762480538965,"duration":197},"status":"passed","steps":[{"name":"Enter email.","time":{"start":1762480538768,"stop":1762480538827,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Enter password.","time":{"start":1762480538827,"stop":1762480538873,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click button \"Login\"","time":{"start":1762480538873,"stop":1762480538962,"duration":89},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check url is present: https://oblache.areso.pro/register.html","time":{"start":1762480538962,"stop":1762480538965,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":6,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Wrong answer from server or need manual deleting!!!","statusTrace":"self = <tests_ui.test_ui.TestProfilePage object at 0x7f56abb6da90>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"f8dd8a96a5fe7130337602ec15f6d167\")>\nauthorization_user = None\n\n    @allure.title('Deleting a DB with results check in the Account Dashboard table')\n    def test_delete_database(self, driver, authorization_user):\n        page = ProfilePage(driver, authorization_user)\n        page.click_button_status()\n        amount_databases = int(page.get_status_data()['db qty used'])\n>       msg = page.delete_database()\n\ntests_ui/test_ui.py:97: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests_ui.profile_page.ProfilePage object at 0x7f56ab79eed0>\n\n    def delete_database(self):\n        self.click_button_databases()\n        time.sleep(1)\n        list_databases = self.elements_are_present(self.locators.LIST_DATABASES)\n        list_db = [list_databases[i].text for i in range(len(list_databases))]\n        \"\"\"If there is at least one DB\"\"\"\n        if len(list_db) != 0:\n            button = self.element_is_visible((By.XPATH, f'//tbody[@id=\"tbody_dbs\"] /tr[1]/td[10] /button'))\n            button.click()\n            server_msg = self.element_is_visible(self.locators.MSG_COPYPASTE).text\n            with allure.step(f'Check server answer is: {server_msg}'):\n>               assert server_msg == 'server is set for deleting', 'Wrong answer from server or need manual deleting!!!'\nE               AssertionError: Wrong answer from server or need manual deleting!!!\n\ntests_ui/profile_page.py:95: AssertionError","steps":[{"name":"Click button Status.","time":{"start":1762480539965,"stop":1762480540386,"duration":421},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Get status data.","time":{"start":1762480540877,"stop":1762480540877,"duration":0},"status":"passed","steps":[{"name":"Status data is: {'Email:': 'nodata', 'is blocked?': 'nodata', 'is db creation allowed?': 'nodata', 'disk db quota, mb': 'nodata', 'disk db used, mb': 'nodata', 'db qty quota': 'nodata', 'db qty used': '58', 'site qty quota': '5', 'site qty used': '0', 'site disk quota': '300', 'site disk usage': '0', 'is site deploy allowed?': '1', 'container qty quota': '1', 'container qty used': '1147', 'is container creation allowed': '0'}","time":{"start":1762480540877,"stop":1762480540877,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Click \"Databases\" button.","time":{"start":1762480540877,"stop":1762480540946,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check server answer is: something went wrong","time":{"start":1762480543031,"stop":1762480543031,"duration":0},"status":"failed","statusMessage":"AssertionError: Wrong answer from server or need manual deleting!!!\n","statusTrace":"  File \"/home/runner/work/Oblache/Oblache/tests_ui/profile_page.py\", line 95, in delete_database\n    assert server_msg == 'server is set for deleting', 'Wrong answer from server or need manual deleting!!!'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"4d020a0a2762b9ea","name":"Screenshot 2025-11-07 01:55:43.137060","source":"4d020a0a2762b9ea.png","type":"image/png","size":223932}],"parameters":[],"stepsCount":5,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1762480543138,"stop":1762480543200,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"suite","value":"Test Profile Page."},{"name":"parentSuite","value":"tests_ui"},{"name":"subSuite","value":"TestProfilePage"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"2601-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests_ui.test_ui"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":1,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"c02c6b0fadba7a24","reportUrl":"https://lambotik.github.io/Oblache/555/#testresult/c02c6b0fadba7a24","status":"broken","statusDetails":"ValueError: invalid literal for int() with base 10: 'nodata'","time":{"start":1762394174740,"stop":1762394176373,"duration":1633}}]},"tags":[]},"source":"f6f860462e54ac52.json","parameterValues":[]}