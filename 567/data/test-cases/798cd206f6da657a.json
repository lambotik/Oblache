{"uid":"798cd206f6da657a","name":"POST db_create","fullName":"tests_api.test_bd.TestPOST#test_post_db_create","historyId":"0b53e71177b12ce964a75d76d7986dbc","time":{"start":1763430827172,"stop":1763430828191,"duration":1019},"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403","statusTrace":"self = <tests_api.test_bd.TestPOST object at 0x7fbebbcdd0d0>\nget_token = ('4531ff11-bf05-4880-9ae4-b93ed42e8af8', {'email': 'test4@mail.com', 'password': 'testpassword'}, 'testpassword', '123456789', 'test4@mail.com')\n\n    @allure.title('POST db_create')\n    def test_post_db_create(self, get_token):\n        TestPOST.token, TestPOST.body = get_token[0], get_token[1]\n        response_login = API.post_login(body=TestPOST.body)\n        Checking.check_status_code(response_login, 200)\n        response = API.post_db_create(token=TestPOST.token)\n        print(response.text)\n>       Checking.check_status_code(response, 201)\n\ntests_api/test_bd.py:252: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresult = <Response [403]>, status_code = 201\n\n    @staticmethod\n    def check_status_code(result: requests.models.Response, status_code: int):\n        \"\"\"\n        Method check status code\n        :param result: Response\n        :param status_code:\n        \"\"\"\n        with allure.step(f'Assert status code: {status_code} == Response status code: {result.status_code}'):\n>           assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\nE           AssertionError: Incorrect status code: 403\n\ntests_api/utils/checking.py:16: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"get_token","time":{"start":1763430826649,"stop":1763430827171,"duration":522},"status":"passed","steps":[{"name":"Assert status code: 200 == Response status code: 200","time":{"start":1763430827171,"stop":1763430827171,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403","statusTrace":"self = <tests_api.test_bd.TestPOST object at 0x7fbebbcdd0d0>\nget_token = ('4531ff11-bf05-4880-9ae4-b93ed42e8af8', {'email': 'test4@mail.com', 'password': 'testpassword'}, 'testpassword', '123456789', 'test4@mail.com')\n\n    @allure.title('POST db_create')\n    def test_post_db_create(self, get_token):\n        TestPOST.token, TestPOST.body = get_token[0], get_token[1]\n        response_login = API.post_login(body=TestPOST.body)\n        Checking.check_status_code(response_login, 200)\n        response = API.post_db_create(token=TestPOST.token)\n        print(response.text)\n>       Checking.check_status_code(response, 201)\n\ntests_api/test_bd.py:252: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresult = <Response [403]>, status_code = 201\n\n    @staticmethod\n    def check_status_code(result: requests.models.Response, status_code: int):\n        \"\"\"\n        Method check status code\n        :param result: Response\n        :param status_code:\n        \"\"\"\n        with allure.step(f'Assert status code: {status_code} == Response status code: {result.status_code}'):\n>           assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\nE           AssertionError: Incorrect status code: 403\n\ntests_api/utils/checking.py:16: AssertionError","steps":[{"name":"post_login","time":{"start":1763430827172,"stop":1763430827674,"duration":502},"status":"passed","steps":[{"name":"Endpoint: /login","time":{"start":1763430827674,"stop":1763430827674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Request:","time":{"start":1763430827674,"stop":1763430827674,"duration":0},"status":"passed","steps":[{"name":"Headers: {'Content-Type': 'application/json', 'Authorization': ''}","time":{"start":1763430827674,"stop":1763430827674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Body: {\"email\": email, \"password\": password}","time":{"start":1763430827674,"stop":1763430827674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Response:","time":{"start":1763430827674,"stop":1763430827674,"duration":0},"status":"passed","steps":[{"name":"Status code: 200","time":{"start":1763430827674,"stop":1763430827674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"JSON: {\n    \"token\": \"c17b0457-06cb-4e3f-ae44-d5ef97b47305\",\n    \"msg\": \"msg[6]: login successful\"\n}\n","time":{"start":1763430827674,"stop":1763430827674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Assert status code: 200 == Response status code: 200","time":{"start":1763430827674,"stop":1763430827674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"post_db_create","time":{"start":1763430827674,"stop":1763430828191,"duration":517},"status":"passed","steps":[{"name":"Endpoint: /db_create","time":{"start":1763430828190,"stop":1763430828190,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Request:","time":{"start":1763430828190,"stop":1763430828190,"duration":0},"status":"passed","steps":[{"name":"Headers: {'Content-Type': 'application/json', 'Authorization': {'4531ff11-bf05-4880-9ae4-b93ed42e8af8'}}","time":{"start":1763430828190,"stop":1763430828190,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Body: {\"dbtype\": 3, \"dbversion\": 5, \"env\": 3, \"region\": 3}","time":{"start":1763430828190,"stop":1763430828190,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Response:","time":{"start":1763430828190,"stop":1763430828191,"duration":1},"status":"passed","steps":[{"name":"Status code: 403","time":{"start":1763430828190,"stop":1763430828190,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"JSON: {\n    \"content\": \"you are not allowed to create new databases\"\n}\n","time":{"start":1763430828191,"stop":1763430828191,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Assert status code: 201 == Response status code: 403","time":{"start":1763430828191,"stop":1763430828191,"duration":0},"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403\n","statusTrace":"  File \"/home/runner/work/Oblache/Oblache/tests_api/utils/checking.py\", line 16, in check_status_code\n    assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":18,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"suite","value":"POST"},{"name":"parentSuite","value":"tests_api"},{"name":"subSuite","value":"TestPOST"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2612-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests_api.test_bd"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":14,"broken":1,"skipped":0,"passed":0,"unknown":0,"total":15},"items":[{"uid":"bbf043a5e2d3268d","reportUrl":"https://lambotik.github.io/Oblache/566/#testresult/bbf043a5e2d3268d","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763344515335,"stop":1763344516316,"duration":981}},{"uid":"8896f839bd656f6","reportUrl":"https://lambotik.github.io/Oblache/565/#testresult/8896f839bd656f6","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763258389160,"stop":1763258390158,"duration":998}},{"uid":"e4ddcf8c56d49470","reportUrl":"https://lambotik.github.io/Oblache/564/#testresult/e4ddcf8c56d49470","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763171405643,"stop":1763171406261,"duration":618}},{"uid":"abe31a039a5746ab","reportUrl":"https://lambotik.github.io/Oblache/563/#testresult/abe31a039a5746ab","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763085270258,"stop":1763085271085,"duration":827}},{"uid":"31f7966bc3b5ea58","reportUrl":"https://lambotik.github.io/Oblache/562/#testresult/31f7966bc3b5ea58","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762998922090,"stop":1762998922981,"duration":891}},{"uid":"86fd7ed7e7ea531d","reportUrl":"https://lambotik.github.io/Oblache/561/#testresult/86fd7ed7e7ea531d","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762912418509,"stop":1762912419138,"duration":629}},{"uid":"4fe434eac2c6451d","reportUrl":"https://lambotik.github.io/Oblache/560/#testresult/4fe434eac2c6451d","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762826072867,"stop":1762826073594,"duration":727}},{"uid":"beb76acd010e4961","reportUrl":"https://lambotik.github.io/Oblache/559/#testresult/beb76acd010e4961","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762739883202,"stop":1762739884203,"duration":1001}},{"uid":"830ee86385d190c3","reportUrl":"https://lambotik.github.io/Oblache/558/#testresult/830ee86385d190c3","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1762653397299,"stop":1762653397299,"duration":0}},{"uid":"5099ca0095a030f0","reportUrl":"https://lambotik.github.io/Oblache/557/#testresult/5099ca0095a030f0","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762566403689,"stop":1762566404534,"duration":845}},{"uid":"e07b53f25ac885f3","reportUrl":"https://lambotik.github.io/Oblache/556/#testresult/e07b53f25ac885f3","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762480367254,"stop":1762480368239,"duration":985}},{"uid":"79c21114fb9488cc","reportUrl":"https://lambotik.github.io/Oblache/555/#testresult/79c21114fb9488cc","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762394036415,"stop":1762394037149,"duration":734}},{"uid":"13e67a913881d976","reportUrl":"https://lambotik.github.io/Oblache/25/#testresult/13e67a913881d976","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762342831529,"stop":1762342832489,"duration":960}},{"uid":"99508c5897dc73d","reportUrl":"https://lambotik.github.io/Oblache/24/#testresult/99508c5897dc73d","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762342471406,"stop":1762342472023,"duration":617}}]},"tags":[]},"source":"798cd206f6da657a.json","parameterValues":[]}