{"uid":"425c59f1fcea1476","name":"POST db_create_with_wrong_region.","fullName":"tests_api.test_db.TestPOST#test_post_db_create_with_wrong_values_region","historyId":"69bb179e29a247eccf160170a8a555aa","time":{"start":1763517224114,"stop":1763517224422,"duration":308},"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403","statusTrace":"self = <tests_api.test_db.TestPOST object at 0x7f065536a660>\n\n    @allure.title('POST db_create_with_wrong_region.')\n    def test_post_db_create_with_wrong_values_region(self):\n        response_db_list = API.post_db_create_wrong_value_region(token=TestPOST.token)\n>       Checking.check_status_code(response_db_list, 400)\n\ntests_api/test_db.py:64: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresult = <Response [403]>, status_code = 400\n\n    @staticmethod\n    def check_status_code(result: requests.models.Response, status_code: int):\n        \"\"\"\n        Method check status code\n        :param result: Response\n        :param status_code:\n        \"\"\"\n        with allure.step(f'Assert status code: {status_code} == Response status code: {result.status_code}'):\n>           assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\nE           AssertionError: Incorrect status code: 403\n\ntests_api/utils/checking.py:16: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403","statusTrace":"self = <tests_api.test_db.TestPOST object at 0x7f065536a660>\n\n    @allure.title('POST db_create_with_wrong_region.')\n    def test_post_db_create_with_wrong_values_region(self):\n        response_db_list = API.post_db_create_wrong_value_region(token=TestPOST.token)\n>       Checking.check_status_code(response_db_list, 400)\n\ntests_api/test_db.py:64: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresult = <Response [403]>, status_code = 400\n\n    @staticmethod\n    def check_status_code(result: requests.models.Response, status_code: int):\n        \"\"\"\n        Method check status code\n        :param result: Response\n        :param status_code:\n        \"\"\"\n        with allure.step(f'Assert status code: {status_code} == Response status code: {result.status_code}'):\n>           assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\nE           AssertionError: Incorrect status code: 403\n\ntests_api/utils/checking.py:16: AssertionError","steps":[{"name":"post_db_create_wrong_value_region","time":{"start":1763517224115,"stop":1763517224421,"duration":306},"status":"passed","steps":[{"name":"Endpoint: /db_create","time":{"start":1763517224421,"stop":1763517224421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Request:","time":{"start":1763517224421,"stop":1763517224421,"duration":0},"status":"passed","steps":[{"name":"Headers: {'Content-Type': 'application/json', 'Authorization': {'6c8fe4db-c517-4e49-98a7-ca7d6a149610'}}","time":{"start":1763517224421,"stop":1763517224421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Body: {\"dbtype\": 3, \"dbversion\": 5, \"env\": 3, \"region\": 62}","time":{"start":1763517224421,"stop":1763517224421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Response:","time":{"start":1763517224421,"stop":1763517224421,"duration":0},"status":"passed","steps":[{"name":"Status code: 403","time":{"start":1763517224421,"stop":1763517224421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"JSON: {\n    \"content\": \"you are not allowed to create new databases\"\n}\n","time":{"start":1763517224421,"stop":1763517224421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Assert status code: 400 == Response status code: 403","time":{"start":1763517224421,"stop":1763517224421,"duration":0},"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403\n","statusTrace":"  File \"/home/runner/work/Oblache/Oblache/tests_api/utils/checking.py\", line 16, in check_status_code\n    assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":9,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"suite","value":"smoke_databases"},{"name":"parentSuite","value":"tests_api"},{"name":"subSuite","value":"TestPOST"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2610-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests_api.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":14,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":14},"items":[{"uid":"5c42d341dcd0996a","reportUrl":"https://lambotik.github.io/Oblache/567/#testresult/5c42d341dcd0996a","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763430852399,"stop":1763430852898,"duration":499}},{"uid":"a7ed6656d683001","reportUrl":"https://lambotik.github.io/Oblache/566/#testresult/a7ed6656d683001","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763344539473,"stop":1763344539954,"duration":481}},{"uid":"8e0ac8adf9192e10","reportUrl":"https://lambotik.github.io/Oblache/565/#testresult/8e0ac8adf9192e10","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763258414587,"stop":1763258415098,"duration":511}},{"uid":"8a65ad1154d7290d","reportUrl":"https://lambotik.github.io/Oblache/564/#testresult/8a65ad1154d7290d","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763171421848,"stop":1763171422156,"duration":308}},{"uid":"c71a419f8bc3792d","reportUrl":"https://lambotik.github.io/Oblache/563/#testresult/c71a419f8bc3792d","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763085292070,"stop":1763085292468,"duration":398}},{"uid":"d92cfd9da24e1eaf","reportUrl":"https://lambotik.github.io/Oblache/562/#testresult/d92cfd9da24e1eaf","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762998943846,"stop":1762998944270,"duration":424}},{"uid":"4e1103a39ff5e2fb","reportUrl":"https://lambotik.github.io/Oblache/561/#testresult/4e1103a39ff5e2fb","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762912435008,"stop":1762912435308,"duration":300}},{"uid":"945142b27cd91e81","reportUrl":"https://lambotik.github.io/Oblache/560/#testresult/945142b27cd91e81","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762826091987,"stop":1762826092346,"duration":359}},{"uid":"d70b61c948928971","reportUrl":"https://lambotik.github.io/Oblache/559/#testresult/d70b61c948928971","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762739908964,"stop":1762739909453,"duration":489}},{"uid":"b9358946d47cd13a","reportUrl":"https://lambotik.github.io/Oblache/558/#testresult/b9358946d47cd13a","status":"failed","statusDetails":"AssertionError: Incorrect status code: 502","time":{"start":1762653411517,"stop":1762653411847,"duration":330}},{"uid":"138ae43361644341","reportUrl":"https://lambotik.github.io/Oblache/557/#testresult/138ae43361644341","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762566425549,"stop":1762566425963,"duration":414}},{"uid":"f4751621f5ade554","reportUrl":"https://lambotik.github.io/Oblache/556/#testresult/f4751621f5ade554","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762480392911,"stop":1762480393414,"duration":503}},{"uid":"746a7558abc34c29","reportUrl":"https://lambotik.github.io/Oblache/555/#testresult/746a7558abc34c29","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762394055676,"stop":1762394056038,"duration":362}}]},"tags":[]},"source":"425c59f1fcea1476.json","parameterValues":[]}