{"uid":"61061e9c71d0e57b","name":"POST db_create_with_wrong_env.","fullName":"tests_api.test_bd.TestPOST#test_post_db_create_with_wrong_values_env","historyId":"7ce8359f9c0963d82ed82d33290818c9","time":{"start":1763517209655,"stop":1763517209960,"duration":305},"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403","statusTrace":"self = <tests_api.test_bd.TestPOST object at 0x7f0655369220>\n\n    @allure.title('POST db_create_with_wrong_env.')\n    def test_post_db_create_with_wrong_values_env(self):\n        response_db_list = API.post_db_create_wrong_value_env(token=TestPOST.token)\n>       Checking.check_status_code(response_db_list, 400)\n\ntests_api/test_bd.py:273: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresult = <Response [403]>, status_code = 400\n\n    @staticmethod\n    def check_status_code(result: requests.models.Response, status_code: int):\n        \"\"\"\n        Method check status code\n        :param result: Response\n        :param status_code:\n        \"\"\"\n        with allure.step(f'Assert status code: {status_code} == Response status code: {result.status_code}'):\n>           assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\nE           AssertionError: Incorrect status code: 403\n\ntests_api/utils/checking.py:16: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403","statusTrace":"self = <tests_api.test_bd.TestPOST object at 0x7f0655369220>\n\n    @allure.title('POST db_create_with_wrong_env.')\n    def test_post_db_create_with_wrong_values_env(self):\n        response_db_list = API.post_db_create_wrong_value_env(token=TestPOST.token)\n>       Checking.check_status_code(response_db_list, 400)\n\ntests_api/test_bd.py:273: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresult = <Response [403]>, status_code = 400\n\n    @staticmethod\n    def check_status_code(result: requests.models.Response, status_code: int):\n        \"\"\"\n        Method check status code\n        :param result: Response\n        :param status_code:\n        \"\"\"\n        with allure.step(f'Assert status code: {status_code} == Response status code: {result.status_code}'):\n>           assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\nE           AssertionError: Incorrect status code: 403\n\ntests_api/utils/checking.py:16: AssertionError","steps":[{"name":"post_db_create_wrong_value_env","time":{"start":1763517209655,"stop":1763517209960,"duration":305},"status":"passed","steps":[{"name":"Endpoint: /db_create","time":{"start":1763517209960,"stop":1763517209960,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Request:","time":{"start":1763517209960,"stop":1763517209960,"duration":0},"status":"passed","steps":[{"name":"Headers: {'Content-Type': 'application/json', 'Authorization': {'1342706a-042e-4543-8026-4056063ad091'}}","time":{"start":1763517209960,"stop":1763517209960,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Body: {\"dbtype\": 3, \"dbversion\": 5, \"env\": 28, \"region\": 3}","time":{"start":1763517209960,"stop":1763517209960,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Response:","time":{"start":1763517209960,"stop":1763517209960,"duration":0},"status":"passed","steps":[{"name":"Status code: 403","time":{"start":1763517209960,"stop":1763517209960,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"JSON: {\n    \"content\": \"you are not allowed to create new databases\"\n}\n","time":{"start":1763517209960,"stop":1763517209960,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Assert status code: 400 == Response status code: 403","time":{"start":1763517209960,"stop":1763517209960,"duration":0},"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403\n","statusTrace":"  File \"/home/runner/work/Oblache/Oblache/tests_api/utils/checking.py\", line 16, in check_status_code\n    assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":9,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"suite","value":"POST"},{"name":"parentSuite","value":"tests_api"},{"name":"subSuite","value":"TestPOST"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2610-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests_api.test_bd"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":16,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":16},"items":[{"uid":"721da3f5f51abdb2","reportUrl":"https://lambotik.github.io/Oblache/567/#testresult/721da3f5f51abdb2","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763430829240,"stop":1763430829750,"duration":510}},{"uid":"c97f63a6d0761424","reportUrl":"https://lambotik.github.io/Oblache/566/#testresult/c97f63a6d0761424","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763344517325,"stop":1763344517794,"duration":469}},{"uid":"1c12acb982fbf7ed","reportUrl":"https://lambotik.github.io/Oblache/565/#testresult/1c12acb982fbf7ed","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763258391192,"stop":1763258391705,"duration":513}},{"uid":"31ae6282814f7c9e","reportUrl":"https://lambotik.github.io/Oblache/564/#testresult/31ae6282814f7c9e","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763171406927,"stop":1763171407326,"duration":399}},{"uid":"cd576b692d5a8adf","reportUrl":"https://lambotik.github.io/Oblache/563/#testresult/cd576b692d5a8adf","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763085272032,"stop":1763085272503,"duration":471}},{"uid":"bf620fff1820899d","reportUrl":"https://lambotik.github.io/Oblache/562/#testresult/bf620fff1820899d","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762998923849,"stop":1762998924258,"duration":409}},{"uid":"b2ee3f219f196a81","reportUrl":"https://lambotik.github.io/Oblache/561/#testresult/b2ee3f219f196a81","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762912419803,"stop":1762912420105,"duration":302}},{"uid":"740c2a124f912927","reportUrl":"https://lambotik.github.io/Oblache/560/#testresult/740c2a124f912927","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762826074357,"stop":1762826074718,"duration":361}},{"uid":"d3b93f2b8b992f1a","reportUrl":"https://lambotik.github.io/Oblache/559/#testresult/d3b93f2b8b992f1a","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762739885256,"stop":1762739885758,"duration":502}},{"uid":"8ed102f199bcebe5","reportUrl":"https://lambotik.github.io/Oblache/558/#testresult/8ed102f199bcebe5","status":"failed","statusDetails":"AssertionError: Incorrect status code: 502","time":{"start":1762653398693,"stop":1762653399028,"duration":335}},{"uid":"5e2515b6c9240322","reportUrl":"https://lambotik.github.io/Oblache/557/#testresult/5e2515b6c9240322","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762566405429,"stop":1762566405840,"duration":411}},{"uid":"fc448577a6865476","reportUrl":"https://lambotik.github.io/Oblache/556/#testresult/fc448577a6865476","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762480369274,"stop":1762480369787,"duration":513}},{"uid":"68afcf3638688be9","reportUrl":"https://lambotik.github.io/Oblache/555/#testresult/68afcf3638688be9","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762394037925,"stop":1762394038283,"duration":358}},{"uid":"a3e6cc017debd823","reportUrl":"https://lambotik.github.io/Oblache/25/#testresult/a3e6cc017debd823","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762342833459,"stop":1762342833925,"duration":466}},{"uid":"10e224b155d28e09","reportUrl":"https://lambotik.github.io/Oblache/24/#testresult/10e224b155d28e09","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762342472672,"stop":1762342472976,"duration":304}}]},"tags":[]},"source":"61061e9c71d0e57b.json","parameterValues":[]}