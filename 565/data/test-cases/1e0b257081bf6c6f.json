{"uid":"1e0b257081bf6c6f","name":"POST db_create_with_wrong_db_type.","fullName":"tests_api.test_db.TestPOST#test_post_db_create_with_wrong_values_dbtype","historyId":"c73e06961bad410b8a0272d8e2e7514e","time":{"start":1763258413066,"stop":1763258413570,"duration":504},"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403","statusTrace":"self = <tests_api.test_db.TestPOST object at 0x7f901b7eda60>\n\n    @allure.title('POST db_create_with_wrong_db_type.')\n    def test_post_db_create_with_wrong_values_dbtype(self):\n        response_db_list = API.post_db_create_wrong_value_db_type(token=TestPOST.token)\n>       Checking.check_status_code(response_db_list, 400)\n\ntests_api/test_db.py:40: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresult = <Response [403]>, status_code = 400\n\n    @staticmethod\n    def check_status_code(result: requests.models.Response, status_code: int):\n        \"\"\"\n        Method check status code\n        :param result: Response\n        :param status_code:\n        \"\"\"\n        with allure.step(f'Assert status code: {status_code} == Response status code: {result.status_code}'):\n>           assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\nE           AssertionError: Incorrect status code: 403\n\ntests_api/utils/checking.py:16: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403","statusTrace":"self = <tests_api.test_db.TestPOST object at 0x7f901b7eda60>\n\n    @allure.title('POST db_create_with_wrong_db_type.')\n    def test_post_db_create_with_wrong_values_dbtype(self):\n        response_db_list = API.post_db_create_wrong_value_db_type(token=TestPOST.token)\n>       Checking.check_status_code(response_db_list, 400)\n\ntests_api/test_db.py:40: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresult = <Response [403]>, status_code = 400\n\n    @staticmethod\n    def check_status_code(result: requests.models.Response, status_code: int):\n        \"\"\"\n        Method check status code\n        :param result: Response\n        :param status_code:\n        \"\"\"\n        with allure.step(f'Assert status code: {status_code} == Response status code: {result.status_code}'):\n>           assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\nE           AssertionError: Incorrect status code: 403\n\ntests_api/utils/checking.py:16: AssertionError","steps":[{"name":"post_db_create_wrong_value_db_type","time":{"start":1763258413066,"stop":1763258413569,"duration":503},"status":"passed","steps":[{"name":"Endpoint: /db_create","time":{"start":1763258413569,"stop":1763258413569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Request:","time":{"start":1763258413569,"stop":1763258413569,"duration":0},"status":"passed","steps":[{"name":"Headers: {'Content-Type': 'application/json', 'Authorization': {'8ea97e71-7790-4da9-b00a-3bb6277c537f'}}","time":{"start":1763258413569,"stop":1763258413569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Body: {\"dbtype\": f'28', \"dbversion\": 5, \"env\": 3, \"region\": 3}","time":{"start":1763258413569,"stop":1763258413569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Response:","time":{"start":1763258413569,"stop":1763258413569,"duration":0},"status":"passed","steps":[{"name":"Status code: 403","time":{"start":1763258413569,"stop":1763258413569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"JSON: {\n    \"content\": \"you are not allowed to create new databases\"\n}\n","time":{"start":1763258413569,"stop":1763258413569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Assert status code: 400 == Response status code: 403","time":{"start":1763258413569,"stop":1763258413570,"duration":1},"status":"failed","statusMessage":"AssertionError: Incorrect status code: 403\n","statusTrace":"  File \"/home/runner/work/Oblache/Oblache/tests_api/utils/checking.py\", line 16, in check_status_code\n    assert status_code == result.status_code, f'Incorrect status code: {result.status_code}'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":9,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"suite","value":"smoke_databases"},{"name":"parentSuite","value":"tests_api"},{"name":"subSuite","value":"TestPOST"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"2608-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests_api.test_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":11,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":11},"items":[{"uid":"d0518559073c8d72","reportUrl":"https://lambotik.github.io/Oblache/564/#testresult/d0518559073c8d72","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763171420905,"stop":1763171421209,"duration":304}},{"uid":"649b2c7b14064909","reportUrl":"https://lambotik.github.io/Oblache/563/#testresult/649b2c7b14064909","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1763085290796,"stop":1763085291230,"duration":434}},{"uid":"fa2093029b1d6818","reportUrl":"https://lambotik.github.io/Oblache/562/#testresult/fa2093029b1d6818","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762998942611,"stop":1762998942994,"duration":383}},{"uid":"ccf57155af112377","reportUrl":"https://lambotik.github.io/Oblache/561/#testresult/ccf57155af112377","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762912433897,"stop":1762912434290,"duration":393}},{"uid":"f159573fd9fbf062","reportUrl":"https://lambotik.github.io/Oblache/560/#testresult/f159573fd9fbf062","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762826090870,"stop":1762826091234,"duration":364}},{"uid":"b875b78c4e7c4fd0","reportUrl":"https://lambotik.github.io/Oblache/559/#testresult/b875b78c4e7c4fd0","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762739907451,"stop":1762739907956,"duration":505}},{"uid":"c2d342d85891374a","reportUrl":"https://lambotik.github.io/Oblache/558/#testresult/c2d342d85891374a","status":"failed","statusDetails":"AssertionError: Incorrect status code: 502","time":{"start":1762653410505,"stop":1762653410828,"duration":323}},{"uid":"4b47626d8315275b","reportUrl":"https://lambotik.github.io/Oblache/557/#testresult/4b47626d8315275b","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762566424276,"stop":1762566424699,"duration":423}},{"uid":"16b283a1c95ecc17","reportUrl":"https://lambotik.github.io/Oblache/556/#testresult/16b283a1c95ecc17","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762480391373,"stop":1762480391886,"duration":513}},{"uid":"2f885811110aa504","reportUrl":"https://lambotik.github.io/Oblache/555/#testresult/2f885811110aa504","status":"failed","statusDetails":"AssertionError: Incorrect status code: 403","time":{"start":1762394054589,"stop":1762394054950,"duration":361}}]},"tags":[]},"source":"1e0b257081bf6c6f.json","parameterValues":[]}